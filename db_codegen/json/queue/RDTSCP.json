{
  "mnemonic": "RDTSCP",
  "summary": "Read Time-Stamp Counter and Processor ID",
  "index": 562,
  "instructions": [
    {
      "opcode": "0F 01 F9",
      "instr": "RDTSCP",
      "op_en": "ZO",
      "x64": "Valid",
      "x32": "Valid",
      "desc": "Read 64-bit time-stamp counter and IA32_TSC_AUX value into EDX:EAX and ECX."
    }
  ],
  "op_en": [
    {
      "op_en": "ZO",
      "tuple_type": "NA",
      "operand_1": "NA",
      "operand_2": "NA",
      "operand_3": "NA"
    }
  ],
  "page_desc": [
    "Reads the current value of the processor\u2019s time-stamp counter (a 64-bit MSR) into the EDX:EAX registers and also reads the value of the IA32_TSC_AUX MSR (address C0000103H) into the ECX register. The EDX register is loaded with the high-order 32 bits of the IA32_TSC MSR; the EAX register is loaded with the low-order 32 bits of the IA32_TSC MSR; and the ECX register is loaded with the low-order 32-bits of IA32_TSC_AUX MSR. On processors that support the Intel 64 architecture, the high-order 32 bits of each of RAX, RDX, and RCX are cleared.",
    "The processor monotonically increments the time-stamp counter MSR every clock cycle and resets it to 0 whenever the processor is reset. See \u201cTime Stamp Counter\u201d in Chapter 17 of theIntel\u00ae 64 and IA-32 Architectures Software Developer\u2019s Manual, Volume 3B, for specific details of the time stamp counter behavior.",
    "The time stamp disable (TSD) flag in register CR4 restricts the use of the RDTSCP instruction as follows. When the flag is clear, the RDTSCP instruction can be executed at any privilege level; when the flag is set, the instruction can only be executed at privilege level 0.",
    "The RDTSCP instruction is not a serializing instruction, but it does wait until all previous instructions have executed and all previous loads are globally visible.1But it does not wait for previous stores to be globally visible, and subsequent instructions may begin execution before the read operation is performed. The following items may guide software seeking to order executions of RDTSCP:",
    "See \u201cChanges to Instruction Behavior in VMX Non-Root Operation\u201d in Chapter 25 of theIntel\u00ae 64 and IA-32 Architectures Software Developer\u2019s Manual, Volume 3C, for more information about the behavior of this instruction in VMX non-root operation."
  ]
}
